<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Casper</title>
    <link rel="icon" href="img/favicon.png" type="image/png">
    <link rel="stylesheet" href="styles/rulebot.css">
    <link rel="stylesheet" href="styles/icons.css">
    <!-- <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;500;600&display=swap" rel="stylesheet"> -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <!-- <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'> -->
    <link rel="stylesheet" href="styles/animations.css">
    <link rel="stylesheet" href="styles/transformations.css">
    <link href='styles/boxicon/boxicons.css' rel='stylesheet'>
    <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@300;400;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Lilita+One&display=swap" rel="stylesheet">
</head>
<body>
    <div class="container">
        <div class="chat-container">
            <div id="left-container">
                <div id="rules-head">
                    <div id="welcome">                        
                        <div id="initial-name"></div>
                        <!-- <a href="/configuration" target="_blank" rel="noopener noreferrer">Configs</a> -->
                    </div>

                    <div id="rules-buttons-container">
                        <div type="button" id="show-rules" class="selector-button selector-selected"><i class='bx bxs-magic-wand' ></i> Automazioni <span class="circle-number" id="n_automations"></span></div>
                        <div type="button" id="show-devices" class="selector-button selector-unselected"><i class='bx bxs-washer'></i> Dispositivi <span class="circle-number" id="n_devices"></span></div>
                        <div type="button" id="show-problems" class="selector-button selector-unselected"><i class='bx bx-alarm-exclamation'></i> Problemi <span class="circle-number" id="n_problems"></span></div>
                       <!--  <input type="button" disabled id="download" class="rule-button" value="Download regole">
                        <input  type="button" id="aggiorna" class="rule-button" value="Aggiorna lista regole">-->
                    </div>
                </div>
                
                <div id="rules-container" class="leftbar-selected">
                </div>

                <div id="devices-list-container" class="leftbar-unselected"> 
                </div>

                <div id="problems-main-container" class="leftbar-unselected">
                    <!--<div class="carousel__buttons">-->
                        <div class="carousel-wrapper">
                            <div id="carousel-messages">
                               
                            </div>
                            <div id="carousel-controls" class="carousel-controls" style="display: none;">
                                <button class="control-btn" id="prevBtn">‚Äπ</button>
                                <button class="control-btn" id="nextBtn">‚Ä∫</button>
                            </div>
               
                            <div class="carousel" id="carouselTrack">
                                <div class="card">
                                    <div class="card-container">
                                        <div class="card-header">
                                            <div class="problem-icon">‚ö†Ô∏è</div>
                                            <div class="problem-content">
                                                <div class="problem-title">Catena di attivazione tra automazioni</div>
                                                <div class="problem-id">Catena 1.1</div>
                                            </div>
                                        </div>
                                        <div class="card-body">
                                            <span class="card-text">
                                               L'automazione "nome automazione 1" si attiva alle 9:00 e accende la luce, mentre l'automazione "nome automazione 2" si attiva quando la luce viene accesa e chiude la porta. Questo crea una catena di attivazione tra le due automazioni.
                                            </span>
                                            
                                            <div class="conflict-diagram">
                                                <div class="automation-flow">
                                                    <div class="automation-chain-card">
                                                        <div class="card-icon light">üí°</div>
                                                        <div class="card-chain-title">alle 9, accendi la luce</div>
                                                        <div class="card-chain-subtitle">nome automazione 1</div>
                                                    </div>

                                                    <div class="flow-arrow">‚Üí</div>

                                                    <div class="variable-chain-card">
                                                        <div class="card-icon temperature">üå°Ô∏è</div>
                                                        <div class="card-chain-variable">temperature</div>
                                                    </div>

                                                    <div class="flow-arrow">‚Üí</div>

                                                    <div class="automation-chain-card">
                                                        <div class="card-icon door">üö™</div>
                                                        <div class="card-chain-title">quando si accende la luce, chiudi la porta</div>
                                                        <div class="card-chain-subtitle">nome automazione 2</div>
                                                    </div>
                                                </div>
                                            </div>
                                            
                                            <p class="card-title">Come posso risolvere?</p>
                                            <div class="accordion stay-open">
                                                <div class="accordion-item">
                                                <h2 class="accordion-header">
                                                    <button class="accordion-button" onclick="toggleStayOpen(this)">
                                                    Modifica l'automazione "nome automazione
                                                    </button>
                                                </h2>
                                                <div class="accordion-collapse active">
                                                    <div class="accordion-body">
                                                        <div class="form-check">
                                                            <input class="form-check-input" type="radio" name="radioDefault" id="radioDefault1">
                                                            <label class="form-check-label" for="radioDefault1">
                                                            Default radio
                                                            </label>
                                                        </div>
                                                        <div class="form-check">
                                                            <input class="form-check-input" type="radio" name="radioDefault" id="radioDefault2" >
                                                            <label class="form-check-label" for="radioDefault2">
                                                            Default radio
                                                            </label>
                                                        </div>
                                                        <div class="form-check">
                                                            <input class="form-check-input" type="radio" name="radioDefault" id="radioDefault2" >
                                                            <label class="form-check-label" for="radioDefault2">
                                                            Default radio
                                                            </label>
                                                        </div>
                                                        
                                                    </div>
                                                </div>
                                                </div>
                                            
                                                <div class="accordion-item">
                                                <h2 class="accordion-header">
                                                    <button class="accordion-button" onclick="toggleStayOpen(this)">
                                                    Modifica l'automazione "nome automazione 2"
                                                    </button>
                                                </h2>
                                                <div class="accordion-collapse">
                                                    <div class="accordion-body">
                                                        <div class="form-check">
                                                            <input class="form-check-input" type="radio" name="radioDefault" id="radioDefault1">
                                                            <label class="form-check-label" for="radioDefault1">
                                                            Default radio
                                                            </label>
                                                        </div>
                                                        <div class="form-check">
                                                            <input class="form-check-input" type="radio" name="radioDefault" id="radioDefault2" >
                                                            <label class="form-check-label" for="radioDefault2">
                                                            Default radio
                                                            </label>
                                                        </div>
                                                        <div class="form-check">
                                                            <input class="form-check-input" type="radio" name="radioDefault" id="radioDefault2" >
                                                            <label class="form-check-label" for="radioDefault2">
                                                            Default radio
                                                            </label>
                                                        </div>
                                                        
                                                    </div>
                                                </div>
                                                </div>
                                            
                                            </div>
                                            <div class="action-buttons">
                                                <button class="btn btn-ignore">Ignora</button>
                                                <button class="btn btn-resolve">Risolvi</button>
                                            </div>

                                        </div>
                                    </div>
                                </div>

                                <div class="card">
                                    <div class="card-container">
                                        <div class="card-header">
                                            <div class="problem-icon">‚ö†Ô∏è</div>
                                            <div class="problem-content">
                                                <div class="problem-title">Catena di attivazione tra automazioni</div>
                                                <div class="problem-id">Catena 1.1</div>
                                            </div>
                                        </div>
                                        <div class="card-body">
                                            <span class="card-text">
                                               L'automazione "nome automazione 1" si attiva alle 9:00 e accende la luce, mentre l'automazione "nome automazione 2" si attiva quando la luce viene accesa e chiude la porta. Questo crea una catena di attivazione tra le due automazioni.
                                            </span>
                                            
                                            <div class="conflict-diagram">
                                                <div class="automation-flow">
                                                    <div class="automation-chain-card">
                                                        <div class="card-icon light">üí°</div>
                                                        <div class="card-chain-title">alle 9, accendi la luce</div>
                                                        <div class="card-chain-subtitle">nome automazione 1</div>
                                                    </div>

                                                    <div class="flow-arrow">‚Üí</div>

                                                    <div class="automation-chain-card">
                                                        <div class="card-icon door">üö™</div>
                                                        <div class="card-chain-title">quando si accende la luce, chiudi la porta</div>
                                                        <div class="card-chain-subtitle">nome automazione 2</div>
                                                    </div>
                                                </div>
                                            </div>
                                            
                                            <p class="card-title">Come posso risolvere?</p>
                                            <div class="accordion stay-open">
                                                <div class="accordion-item">
                                                <h2 class="accordion-header">
                                                    <button class="accordion-button" onclick="toggleStayOpen(this)">
                                                    Modifica l'automazione "nome automazione
                                                    </button>
                                                </h2>
                                                <div class="accordion-collapse active">
                                                    <div class="accordion-body">
                                                        <div class="form-check">
                                                            <input class="form-check-input" type="radio" name="radioDefault" id="radioDefault1">
                                                            <label class="form-check-label" for="radioDefault1">
                                                            Default radio
                                                            </label>
                                                        </div>
                                                        <div class="form-check">
                                                            <input class="form-check-input" type="radio" name="radioDefault" id="radioDefault2" >
                                                            <label class="form-check-label" for="radioDefault2">
                                                            Default radio
                                                            </label>
                                                        </div>
                                                        <div class="form-check">
                                                            <input class="form-check-input" type="radio" name="radioDefault" id="radioDefault2" >
                                                            <label class="form-check-label" for="radioDefault2">
                                                            Default radio
                                                            </label>
                                                        </div>
                                                        
                                                    </div>
                                                </div>
                                                </div>
                                            
                                                <div class="accordion-item">
                                                <h2 class="accordion-header">
                                                    <button class="accordion-button" onclick="toggleStayOpen(this)">
                                                    Modifica l'automazione "nome automazione 2"
                                                    </button>
                                                </h2>
                                                <div class="accordion-collapse">
                                                    <div class="accordion-body">
                                                        <div class="form-check">
                                                            <input class="form-check-input" type="radio" name="radioDefault" id="radioDefault1">
                                                            <label class="form-check-label" for="radioDefault1">
                                                            Default radio
                                                            </label>
                                                        </div>
                                                        <div class="form-check">
                                                            <input class="form-check-input" type="radio" name="radioDefault" id="radioDefault2" >
                                                            <label class="form-check-label" for="radioDefault2">
                                                            Default radio
                                                            </label>
                                                        </div>
                                                        <div class="form-check">
                                                            <input class="form-check-input" type="radio" name="radioDefault" id="radioDefault2" >
                                                            <label class="form-check-label" for="radioDefault2">
                                                            Default radio
                                                            </label>
                                                        </div>
                                                        
                                                    </div>
                                                </div>
                                                </div>
                                            
                                            </div>
                                            <div class="action-buttons">
                                                <button class="btn btn-ignore">Ignora</button>
                                                <button class="btn btn-resolve">Risolvi</button>
                                            </div>

                                        </div>
                                    </div>
                                </div>              

                               <div class="card">
                                    <div class="card-container">
                                        <div class="card-header">
                                            <div class="problem-icon">‚ö†Ô∏è</div>
                                            <div class="problem-content">
                                                <div class="problem-title">Conflitto tra automazioni luce cucina</div>
                                                <div class="problem-id">CONFLITTO 1.1</div>
                                            </div>
                                        </div>
                                        <div class="card-body">
                                            <span class="card-text">
                                                Le automazioni 'Accendi la luce in cucina quando il forno viene spento' (id 2) e 'Spegni luce cucina quando il forno viene spento' (id 1) sono in conflitto perch√© entrambe si attivano quando il forno viene spento, ma una accende e l'altra spegne la stessa luce (light.luce_cucina), causando un comportamento imprevedibile.
                                            </span>
                                            <div class="conflict-diagram">
                                                <div class="diagram-title">quando il forno viene spento</div>
                                                <table class="conflict_rappresentation_containers">
                                                    <tr>
                                                        <td>
                                                        <div class="action-box">
                                                            <div class="card-icon light">üí°</div>
                                                            <b>accendi la luce in cucina</b>
                                                        </div>
                                                        </td>
                                                        <td class="conflict-icon-td">
                                                            <div class="conflict-icon">‚ö°</div>
                                                        </td>
                                                        <td>
                                                        <div class="action-box">
                                                            <div class="card-icon light">üí°</div>
                                                            <b>spegni la luce della cucina</b>
                                                        </div>
                                                        </td>
                                                    </tr>
                                                    <tr>
                                                        <td>
                                                        <div>
                                                            <i>Accendi la luce in cucina quando il forno viene spento</i>
                                                        </div>
                                                        </td>
                                                        <td>
                                                        </td>
                                                        <td>
                                                        <div>
                                                            <i>Spegni luce cucina quando il forno viene spento</i>
                                                        </div>
                                                        </td>
                                                    </tr>
                                                </table>
                                            </div>
                                            
                                            <p class="card-title">Come posso risolvere?</p>
                                            <div class="accordion stay-open">
                                                <div class="accordion-item">
                                                <h2 class="accordion-header">
                                                    <button class="accordion-button" onclick="toggleStayOpen(this)">
                                                    Modifica l'automazione "Accendi aria condizionata mattina"
                                                    </button>
                                                </h2>
                                                <div class="accordion-collapse active">
                                                    <div class="accordion-body">
                                                        <div class="form-check">
                                                            <input class="form-check-input" type="radio" name="radioDefault" id="radioDefault1">
                                                            <label class="form-check-label" for="radioDefault1">
                                                            Default radio
                                                            </label>
                                                        </div>
                                                        <div class="form-check">
                                                            <input class="form-check-input" type="radio" name="radioDefault" id="radioDefault2" >
                                                            <label class="form-check-label" for="radioDefault2">
                                                            Default radio
                                                            </label>
                                                        </div>
                                                        <div class="form-check">
                                                            <input class="form-check-input" type="radio" name="radioDefault" id="radioDefault2" >
                                                            <label class="form-check-label" for="radioDefault2">
                                                            Default radio
                                                            </label>
                                                        </div>
                                                        
                                                    </div>
                                                </div>
                                                </div>
                                            
                                                <div class="accordion-item">
                                                <h2 class="accordion-header">
                                                    <button class="accordion-button" onclick="toggleStayOpen(this)">
                                                    Modifica l'automazione "Chiudi finestre aria condizionata accesa"
                                                    </button>
                                                </h2>
                                                <div class="accordion-collapse">
                                                    <div class="accordion-body">
                                                        <div class="form-check">
                                                            <input class="form-check-input" type="radio" name="radioDefault" id="radioDefault1">
                                                            <label class="form-check-label" for="radioDefault1">
                                                            Default radio
                                                            </label>
                                                        </div>
                                                        <div class="form-check">
                                                            <input class="form-check-input" type="radio" name="radioDefault" id="radioDefault2" >
                                                            <label class="form-check-label" for="radioDefault2">
                                                            Default radio
                                                            </label>
                                                        </div>
                                                        <div class="form-check">
                                                            <input class="form-check-input" type="radio" name="radioDefault" id="radioDefault2" >
                                                            <label class="form-check-label" for="radioDefault2">
                                                            Default radio
                                                            </label>
                                                        </div>
                                                        
                                                    </div>
                                                </div>
                                                </div>
                                            
                                            </div>
                                            <div class="action-buttons">
                                                <button class="btn btn-ignore">Ignora</button>
                                                <button class="btn btn-resolve">Risolvi</button>
                                            </div>

                                        </div>
                                    </div>
                                </div>      
                                
                                <div class="card">
                                    <div class="card-container">
                                        <div class="card-header">
                                            <div class="problem-icon">‚ö†Ô∏è</div>
                                            <div class="problem-content">
                                                <div class="problem-title">Conflitto tra automazioni luce cucina</div>
                                                <div class="problem-id">CONFLITTO 2.1</div>
                                            </div>
                                        </div>
                                        <div class="card-body">
                                            <span class="card-text">
                                                Le automazioni 'Accendi la luce in cucina quando il forno viene spento' (id 2) e 'Spegni luce cucina quando il forno viene spento' (id 1) sono in conflitto perch√© entrambe si attivano quando il forno viene spento, ma una accende e l'altra spegne la stessa luce (light.luce_cucina), causando un comportamento imprevedibile.
                                            </span>
                                            <div class="conflict-diagram">
                                                <div class="diagram-title">quando il forno viene spento</div>
                                                <div class="condition-box">
                                                            se piove
                                                </div>
                                                <table class="conflict_rappresentation_containers">
                                                    
                                                    <tr>
                                                        <td>
                                                        <div class="action-box">
                                                            <div class="card-icon light">üí°</div>
                                                            <b>accendi la luce in cucina</b>
                                                        
                                                        </div>
                                                        </td>
                                                        <td class="conflict-icon-td">
                                                            <div class="conflict-icon">‚ö°</div>
                                                        </td>
                                                        <td>
                                                        <div class="action-box">
                                                            <div class="card-icon light">üí°</div>
                                                            <b>spegni la luce della cucina</b>
                                                   
                                                        </div>
                                                        </td>
                                                    </tr>
                                                    <tr>
                                                        <td>
                                                        <div>
                                                            <i>Accendi la luce in cucina quando il forno viene spento</i>
                                                        </div>
                                                        </td>
                                                        <td>
                                                        </td>
                                                        <td>
                                                        <div>
                                                            <i>Spegni luce cucina quando il forno viene spento</i>
                                                        </div>
                                                        </td>
                                                    </tr>
                                            
                                                </table>
                                            </div>
                                            
                                            <p class="card-title">Come posso risolvere?</p>
                                            <div class="accordion stay-open">
                                                <div class="accordion-item">
                                                <h2 class="accordion-header">
                                                    <button class="accordion-button" onclick="toggleStayOpen(this)">
                                                    Modifica l'automazione "Accendi aria condizionata mattina"
                                                    </button>
                                                </h2>
                                                <div class="accordion-collapse active">
                                                    <div class="accordion-body">
                                                        <div class="form-check">
                                                            <input class="form-check-input" type="radio" name="radioDefault" id="radioDefault1">
                                                            <label class="form-check-label" for="radioDefault1">
                                                            Default radio
                                                            </label>
                                                        </div>
                                                        <div class="form-check">
                                                            <input class="form-check-input" type="radio" name="radioDefault" id="radioDefault2" >
                                                            <label class="form-check-label" for="radioDefault2">
                                                            Default radio
                                                            </label>
                                                        </div>
                                                        <div class="form-check">
                                                            <input class="form-check-input" type="radio" name="radioDefault" id="radioDefault2" >
                                                            <label class="form-check-label" for="radioDefault2">
                                                            Default radio
                                                            </label>
                                                        </div>
                                                        
                                                    </div>
                                                </div>
                                                </div>
                                            
                                                <div class="accordion-item">
                                                <h2 class="accordion-header">
                                                    <button class="accordion-button" onclick="toggleStayOpen(this)">
                                                    Modifica l'automazione "Chiudi finestre aria condizionata accesa"
                                                    </button>
                                                </h2>
                                                <div class="accordion-collapse">
                                                    <div class="accordion-body">
                                                        <div class="form-check">
                                                            <input class="form-check-input" type="radio" name="radioDefault" id="radioDefault1">
                                                            <label class="form-check-label" for="radioDefault1">
                                                            Default radio
                                                            </label>
                                                        </div>
                                                        <div class="form-check">
                                                            <input class="form-check-input" type="radio" name="radioDefault" id="radioDefault2" >
                                                            <label class="form-check-label" for="radioDefault2">
                                                            Default radio
                                                            </label>
                                                        </div>
                                                        <div class="form-check">
                                                            <input class="form-check-input" type="radio" name="radioDefault" id="radioDefault2" >
                                                            <label class="form-check-label" for="radioDefault2">
                                                            Default radio
                                                            </label>
                                                        </div>
                                                        
                                                    </div>
                                                </div>
                                                </div>
                                            
                                            </div>
                                            <div class="action-buttons">
                                                <button class="btn btn-ignore">Ignora</button>
                                                <button class="btn btn-resolve">Risolvi</button>
                                            </div>

                                        </div>
                                    </div>
                                </div>

                                <div class="card">
                                    <div class="card-container">
                                        <div class="card-header">
                                            <div class="problem-icon">‚ö†Ô∏è</div>
                                            <div class="problem-content">
                                                <div class="problem-title">Conflitto tra automazioni luce cucina</div>
                                                <div class="problem-id">CONFLITTO 3</div>
                                            </div>
                                        </div>
                                        <div class="card-body">
                                            <span class="card-text">
                                                Le automazioni 'Accendi la luce in cucina quando il forno viene spento' (id 2) e 'Spegni luce cucina quando il forno viene spento' (id 1) sono in conflitto perch√© entrambe si attivano quando il forno viene spento, ma una accende e l'altra spegne la stessa luce (light.luce_cucina), causando un comportamento imprevedibile.
                                            </span>
                                            <div class="conflict-diagram">
                                                <div class="diagram-title">quando il forno viene spento</div>
                                                <table class="conflict_rappresentation_containers">
                                                    <tr>
                                                        <td>
                                                        <div class="condition-box">
                                                            se piove
                                                        </div>
                                                        </td>
                                                        <td>
                                                        </td>
                                                        <td>
                                                        <div class="condition-box">
                                                            se √® mattina
                                                        </div>
                                                        </td>
                                                    </tr>
                                                    
                                                    <tr>
                                                        <td>
                                                        <div class="action-box">
                                                            <div class="card-icon light">üí°</div>
                                                            <b>accendi la luce in cucina</b>
                                                        </div>
                                                        </td>
                                                        <td class="conflict-icon-td">
                                                            <div class="conflict-icon">‚ö°</div>
                                                        </td>
                                                        <td>
                                                        <div class="action-box">
                                                            <div class="card-icon light">üí°</div>
                                                            <b>spegni la luce della cucina</b>
                                                        </div>
                                                        </td>
                                                    </tr>
                                                    <tr>
                                                        <td>
                                                        <div>
                                                            <i>Accendi la luce in cucina quando il forno viene spento</i>
                                                        </div>
                                                        </td>
                                                        <td>
                                                        </td>
                                                        <td>
                                                        <div>
                                                            <i>Spegni luce cucina quando il forno viene spento</i>
                                                        </div>
                                                        </td>
                                                    </tr>
                                                </table>
                                            </div>
                                            
                                            <p class="card-title">Come posso risolvere?</p>
                                            <div class="accordion stay-open">
                                                <div class="accordion-item">
                                                <h2 class="accordion-header">
                                                    <button class="accordion-button" onclick="toggleStayOpen(this)">
                                                    Modifica l'automazione "Accendi aria condizionata mattina"
                                                    </button>
                                                </h2>
                                                <div class="accordion-collapse active">
                                                    <div class="accordion-body">
                                                        <div class="form-check">
                                                            <input class="form-check-input" type="radio" name="radioDefault" id="radioDefault1">
                                                            <label class="form-check-label" for="radioDefault1">
                                                            Default radio
                                                            </label>
                                                        </div>
                                                        <div class="form-check">
                                                            <input class="form-check-input" type="radio" name="radioDefault" id="radioDefault2" >
                                                            <label class="form-check-label" for="radioDefault2">
                                                            Default radio
                                                            </label>
                                                        </div>
                                                        <div class="form-check">
                                                            <input class="form-check-input" type="radio" name="radioDefault" id="radioDefault2" >
                                                            <label class="form-check-label" for="radioDefault2">
                                                            Default radio
                                                            </label>
                                                        </div>
                                                        
                                                    </div>
                                                </div>
                                                </div>
                                            
                                                <div class="accordion-item">
                                                <h2 class="accordion-header">
                                                    <button class="accordion-button" onclick="toggleStayOpen(this)">
                                                    Modifica l'automazione "Chiudi finestre aria condizionata accesa"
                                                    </button>
                                                </h2>
                                                <div class="accordion-collapse">
                                                    <div class="accordion-body">
                                                        <div class="form-check">
                                                            <input class="form-check-input" type="radio" name="radioDefault" id="radioDefault1">
                                                            <label class="form-check-label" for="radioDefault1">
                                                            Default radio
                                                            </label>
                                                        </div>
                                                        <div class="form-check">
                                                            <input class="form-check-input" type="radio" name="radioDefault" id="radioDefault2" >
                                                            <label class="form-check-label" for="radioDefault2">
                                                            Default radio
                                                            </label>
                                                        </div>
                                                        <div class="form-check">
                                                            <input class="form-check-input" type="radio" name="radioDefault" id="radioDefault2" >
                                                            <label class="form-check-label" for="radioDefault2">
                                                            Default radio
                                                            </label>
                                                        </div>
                                                        
                                                    </div>
                                                </div>
                                                </div>
                                            
                                            </div>
                                            <div class="action-buttons">
                                                <button class="btn btn-ignore">Ignora</button>
                                                <button class="btn btn-resolve">Risolvi</button>
                                            </div>

                                        </div>
                                    </div>
                                </div> 
                                
                            </div>
                               
                        </div>
                        
       
                </div>
            </div>
            <div id="chat">
                <div class="chat-header">
                    <div id="logo">
                         <svg style="width:60px" xmlns="http://www.w3.org/2000/svg" viewBox="-1.5 -13.125 11 12.63">
                            <defs>
                                <linearGradient id="myGradient" x1="0%" y1="0%" x2="100%" y2="0%" gradientUnits="userSpaceOnUse">
                                    <stop offset="0%" stop-color="#0066FF">
                                        <animate attributeName="stop-color" 
                                                values="#0066FF;#00FF88;#8B5CF6;#0066FF"
                                                dur="8s" 
                                                repeatCount="indefinite"/>
                                        <animate attributeName="stop-opacity" 
                                                values="1;0.85;1"
                                                dur="4s" 
                                                repeatCount="indefinite"/>
                                    </stop>
                                    <stop offset="40%" stop-color="#00FF88">
                                        <animate attributeName="stop-color" 
                                                values="#00FF88;#8B5CF6;#0066FF;#00FF88"
                                                dur="8s" 
                                                repeatCount="indefinite"/>
                                        <animate attributeName="stop-opacity" 
                                                values="0.85;1;0.85"
                                                dur="5s" 
                                                repeatCount="indefinite"/>
                                    </stop>
                                    <stop offset="70%" stop-color="#8B5CF6">
                                        <animate attributeName="stop-color" 
                                                values="#8B5CF6;#0066FF;#00FF88;#8B5CF6"
                                                dur="8s" 
                                                repeatCount="indefinite"/>
                                        <animate attributeName="stop-opacity" 
                                                values="1;0.85;1"
                                                dur="5s" 
                                                repeatCount="indefinite"/>
                                    </stop>
                                </linearGradient>
                                <clipPath id="housePath">
                                    <path d="M 0 0 L 8 0 C 9 0 9 -1 9 -1 C 9 -1 9 -1 9 -1 V -8 Q 9 -9 8 -10 C 3 -14 5 -14 0 -10 Q -1 -9 -1 -8 V -1 Q -1 0 0 0"/>
                                </clipPath>
                            </defs>
                            <image 
                                href="img/favicon.png" 
                                x="-0.5" 
                                y="-11.2" 
                                width="9" 
                                clip-path="url(#housePath)"
                                preserveAspectRatio="xMidYMid slice"/>

                            <path d="M 0 -1 L 7.998 -1.022 Q 9 -1 9 -2 V -8 Q 9 -9 8 -10 C 3.022 -13.5 5 -13.5 0 -10 Q -1 -9 -1 -8 V -2.06 Q -1 -1 0 -1"
                                stroke="url(#myGradient)" 
                                stroke-width="0.5" 
                                fill="none"
                                stroke-linecap="round"
                                stroke-linejoin="round"/>
          
                        </svg>
                        <div class="agent-info">
                            <div class="agent-name">CASPER</div>
                            <div class="status-indicator-chat"></div>
                            <div class="agent-status">Online</div>
                        </div>
                    </div>
                    <div class="chat-controls">
                        <div class="toggle-container">
                            <div class="toggle-switch-theme dark" id="toggleSwitch" style="transform: translateY(0px) scale(1);">
                                <div class="toggle-bg-icons sun-bg">‚òÄÔ∏è</div>
                                <div class="toggle-bg-icons moon-bg">üåô</div>
                                <div class="toggle-ball dark" id="toggleBall">
                                    <span class="sun-icon">‚òÄÔ∏è</span>
                                    <span class="moon-icon">üåô</span>
                                </div>
                            </div>
                        </div>
                        <div class="control-btn logout-btn" id="logout">üö™ Logout</div>
                    </div>    
                </div>
                <div id="msgContainer">
                    <!-- <div class="infoMsgContainer">
                        <div class="infoLabel">Info di Sistema</div>
                        <div class = "infoMsg">Il chatbot ci mette qualche secondo a rispondere, aspettare il caricamento della risposta. </div>
                    </div> -->
                    <!-- <div class="botMsgContainer">
                        <div class="botLabel">Rulebot</div>
                        <div class = "botMsg">Ciao, io sono RuleBot! Posso eseguire dei compiti per te in maniera automatica.</div>
                    </div>
                    <div class="userMsgContainer">
                        <div class="userLabel">Utente</div>
                        <div class = "userMsg">Ciao</div>
                    </div>
                    
                    <div class="chat-state"><i class='bx bxs-analyse bx-spin'></i>Genero la spiegazione del conflitto</div>
                    <div class="botMsgContainer isTyping">
                        <div class="botLabel">Rulebot</div>
                        <div class="botMsg"><img src="icons/typing.gif" class="typeGif"></div>
                    </div> -->
                </div>
                <div id="inputContainer">
                    <textarea id="inputBox" name="inputBox" placeholder="Inserisci qua il tuo input..."></textarea>
                    <button id="send" class="inputButton send"><img class="buttonIcon" src="icons/send.png" alt=""></button>
                    <!-- <button id="speech">üé§</button> -->
                </div>
            </div>
        </div>
        <div id="right-container">
            <div id="token-info">
                <!--<span>Total Token Usage: <span id="tokens">0</span></span>
                <span>Total Conversation Cost: <span id="cost">0</span></span>-->
            </div>
        </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/js-cookie@3.0.1/dist/js.cookie.min.js"></script>
    <script src="scripts/jwt-decode.js"></script>
    <script src="https://requirejs.org/docs/release/2.3.6/minified/require.js"></script>
    <script src="scripts/icons-map.js"></script>
    <script src="scripts/rulebot.js"></script>
</body>
</html>
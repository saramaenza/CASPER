<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Casper</title>
    <link rel="icon" href="img/favicon.png" type="image/png">
    <link rel="stylesheet" href="styles/rulebot.css">
    <link rel="stylesheet" href="styles/icons.css">
    <!-- <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;500;600&display=swap" rel="stylesheet"> -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <!-- <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'> -->
    <link rel="stylesheet" href="styles/animations.css">
    <link rel="stylesheet" href="styles/transformations.css">
    <link href='styles/boxicon/boxicons.css' rel='stylesheet'>
    <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@300;400;700&display=swap" rel="stylesheet">
</head>
<body>
    <div class="container">
        <div class="chat-container">
            <div id="left-container">
                <div id="rules-head">
                    <div id="welcome">                        
                        <div id="initial-name"></div>
                        <!-- <a href="/configuration" target="_blank" rel="noopener noreferrer">Configs</a> -->
                    </div>
                    <!-- <div id="profile">
                        <span id = "initial"></span>
                        <div id="profile-info" class='closed'>
                            <button class="profile-button"><a href="/profile">Profilo</a></button>
                            <input class="profile-button" type="button" id="logout" value="Logout">
                        </div>
                    </div> -->
                    <div id="rules-buttons-container">
                        <div type="button" id="show-rules" class="selector-button selector-selected"><i class='bx bxs-magic-wand' ></i> Automazioni <span class="circle-number" id="n_automations"></span></div>
                        <div type="button" id="show-devices" class="selector-button selector-unselected"><i class='bx bxs-washer'></i> Dispositivi <span class="circle-number" id="n_devices"></span></div>
                        <div type="button" id="show-problems" class="selector-button selector-unselected"><i class='bx bx-alarm-exclamation'></i> Problemi <span class="circle-number" id="n_problems"></span></div>
                       <!--  <input type="button" disabled id="download" class="rule-button" value="Download regole">
                        <input  type="button" id="aggiorna" class="rule-button" value="Aggiorna lista regole">-->
                    </div>
                </div>
                
                <div id="rules-container" class="leftbar-selected">
                </div>

                <div id="devices-list-container" class="leftbar-unselected"> 
                </div>

                <div id="problems-main-container" class="leftbar-unselected">
                    <!--<div class="carousel__buttons">-->
                        <div class="carousel-wrapper">
                            <div id="carousel-messages">
                               
                            </div>
                            <div id="carousel-controls" class="carousel-controls" style="display: none;">
                                <button class="control-btn" id="prevBtn">‹</button>
                                <button class="control-btn" id="nextBtn">›</button>
                            </div>
               
                            <div class="carousel" id="carouselTrack">
                                <!--
                                <div class="card">
                                    <div class="card-container">
                                        <div class="card-header">
                                            <div class="problem-icon">⚠️</div>
                                            <div class="problem-content">
                                                <div class="problem-title">Conflitto tra automazioni luce cucina</div>
                                                <div class="problem-id">CONFLITTO 1</div>
                                            </div>
                                        </div>
                                        <div class="card-body">
                                            <span class="card-text">
                                                Le automazioni 'Accendi la luce in cucina quando il forno viene spento' (id 2) e 'Spegni luce cucina quando il forno viene spento' (id 1) sono in conflitto perché entrambe si attivano quando il forno viene spento, ma una accende e l'altra spegne la stessa luce (light.luce_cucina), causando un comportamento imprevedibile.
                                            </span>
                                            <div class="conflict-diagram">
                                                <div class="diagram-title">quando il forno viene spento</div>
                                                <table class="conflict_rappresentation_containers">
                                                    <tr>
                                                        <td>
                                                        <div class="action-box">
                                                            accendi la luce in cucina<br>
                                                            <small>Accendi la luce in cucina quando il forno viene spento</small>
                                                        </div>
                                                        </td>
                                                        <td class="conflict-icon-td">
                                                            <div class="conflict-icon">⚡</div>
                                                        </td>
                                                        <td>
                                                        <div class="action-box">
                                                            spegni la luce della cucina<br>
                                                            <small>Spegni luce cucina quando il forno viene spento</small>
                                                        </div>
                                                        </td>
                                                    </tr>
                                                </table>
                                            </div>
                                            
                                            <p class="card-title">Come posso risolvere?</p>
                                            <div class="accordion stay-open">
                                                <div class="accordion-item">
                                                <h2 class="accordion-header">
                                                    <button class="accordion-button" onclick="toggleStayOpen(this)">
                                                    Modifica l'automazione "Accendi aria condizionata mattina"
                                                    </button>
                                                </h2>
                                                <div class="accordion-collapse active">
                                                    <div class="accordion-body">
                                                        <div class="form-check">
                                                            <input class="form-check-input" type="radio" name="radioDefault" id="radioDefault1">
                                                            <label class="form-check-label" for="radioDefault1">
                                                            Default radio
                                                            </label>
                                                        </div>
                                                        <div class="form-check">
                                                            <input class="form-check-input" type="radio" name="radioDefault" id="radioDefault2" >
                                                            <label class="form-check-label" for="radioDefault2">
                                                            Default radio
                                                            </label>
                                                        </div>
                                                        <div class="form-check">
                                                            <input class="form-check-input" type="radio" name="radioDefault" id="radioDefault2" >
                                                            <label class="form-check-label" for="radioDefault2">
                                                            Default radio
                                                            </label>
                                                        </div>
                                                        
                                                    </div>
                                                </div>
                                                </div>
                                            
                                                <div class="accordion-item">
                                                <h2 class="accordion-header">
                                                    <button class="accordion-button" onclick="toggleStayOpen(this)">
                                                    Modifica l'automazione "Chiudi finestre aria condizionata accesa"
                                                    </button>
                                                </h2>
                                                <div class="accordion-collapse">
                                                    <div class="accordion-body">
                                                        <div class="form-check">
                                                            <input class="form-check-input" type="radio" name="radioDefault" id="radioDefault1">
                                                            <label class="form-check-label" for="radioDefault1">
                                                            Default radio
                                                            </label>
                                                        </div>
                                                        <div class="form-check">
                                                            <input class="form-check-input" type="radio" name="radioDefault" id="radioDefault2" >
                                                            <label class="form-check-label" for="radioDefault2">
                                                            Default radio
                                                            </label>
                                                        </div>
                                                        <div class="form-check">
                                                            <input class="form-check-input" type="radio" name="radioDefault" id="radioDefault2" >
                                                            <label class="form-check-label" for="radioDefault2">
                                                            Default radio
                                                            </label>
                                                        </div>
                                                        
                                                    </div>
                                                </div>
                                                </div>
                                            
                                            </div>
                                            <div class="action-buttons">
                                                <button class="btn btn-ignore">Ignora</button>
                                                <button class="btn btn-resolve">Risolvi</button>
                                            </div>

                                        </div>
                                    </div>
                                </div>

                                <div class="card">
                                    <div class="card-container">
                                        <div class="card-header">
                                            <div class="problem-icon">⚠️</div>
                                            <div class="problem-content">
                                                <div class="problem-title">Conflitto tra automazioni luce cucina</div>
                                                <div class="problem-id">CONFLITTO 1.1</div>
                                            </div>
                                        </div>
                                        <div class="card-body">
                                            <span class="card-text">
                                                Le automazioni 'Accendi la luce in cucina quando il forno viene spento' (id 2) e 'Spegni luce cucina quando il forno viene spento' (id 1) sono in conflitto perché entrambe si attivano quando il forno viene spento, ma una accende e l'altra spegne la stessa luce (light.luce_cucina), causando un comportamento imprevedibile.
                                            </span>
                                            <div class="conflict-diagram">
                                                <div class="diagram-title">quando il forno viene spento</div>
                                                <table class="conflict_rappresentation_containers">
                                                    <tr>
                                                        <td>
                                                        <div class="action-box">
                                                            accendi la luce in cucina
                                                        </div>
                                                        </td>
                                                        <td class="conflict-icon-td">
                                                            <div class="conflict-icon">⚡</div>
                                                        </td>
                                                        <td>
                                                        <div class="action-box">
                                                            spegni la luce della cucina
                                                        </div>
                                                        </td>
                                                    </tr>
                                                    <tr>
                                                        <td>
                                                        <div>
                                                            <i>Accendi la luce in cucina quando il forno viene spento</i>
                                                        </div>
                                                        </td>
                                                        <td>
                                                        </td>
                                                        <td>
                                                        <div>
                                                            <i>Spegni luce cucina quando il forno viene spento</i>
                                                        </div>
                                                        </td>
                                                    </tr>
                                                </table>
                                            </div>
                                            
                                            <p class="card-title">Come posso risolvere?</p>
                                            <div class="accordion stay-open">
                                                <div class="accordion-item">
                                                <h2 class="accordion-header">
                                                    <button class="accordion-button" onclick="toggleStayOpen(this)">
                                                    Modifica l'automazione "Accendi aria condizionata mattina"
                                                    </button>
                                                </h2>
                                                <div class="accordion-collapse active">
                                                    <div class="accordion-body">
                                                        <div class="form-check">
                                                            <input class="form-check-input" type="radio" name="radioDefault" id="radioDefault1">
                                                            <label class="form-check-label" for="radioDefault1">
                                                            Default radio
                                                            </label>
                                                        </div>
                                                        <div class="form-check">
                                                            <input class="form-check-input" type="radio" name="radioDefault" id="radioDefault2" >
                                                            <label class="form-check-label" for="radioDefault2">
                                                            Default radio
                                                            </label>
                                                        </div>
                                                        <div class="form-check">
                                                            <input class="form-check-input" type="radio" name="radioDefault" id="radioDefault2" >
                                                            <label class="form-check-label" for="radioDefault2">
                                                            Default radio
                                                            </label>
                                                        </div>
                                                        
                                                    </div>
                                                </div>
                                                </div>
                                            
                                                <div class="accordion-item">
                                                <h2 class="accordion-header">
                                                    <button class="accordion-button" onclick="toggleStayOpen(this)">
                                                    Modifica l'automazione "Chiudi finestre aria condizionata accesa"
                                                    </button>
                                                </h2>
                                                <div class="accordion-collapse">
                                                    <div class="accordion-body">
                                                        <div class="form-check">
                                                            <input class="form-check-input" type="radio" name="radioDefault" id="radioDefault1">
                                                            <label class="form-check-label" for="radioDefault1">
                                                            Default radio
                                                            </label>
                                                        </div>
                                                        <div class="form-check">
                                                            <input class="form-check-input" type="radio" name="radioDefault" id="radioDefault2" >
                                                            <label class="form-check-label" for="radioDefault2">
                                                            Default radio
                                                            </label>
                                                        </div>
                                                        <div class="form-check">
                                                            <input class="form-check-input" type="radio" name="radioDefault" id="radioDefault2" >
                                                            <label class="form-check-label" for="radioDefault2">
                                                            Default radio
                                                            </label>
                                                        </div>
                                                        
                                                    </div>
                                                </div>
                                                </div>
                                            
                                            </div>
                                            <div class="action-buttons">
                                                <button class="btn btn-ignore">Ignora</button>
                                                <button class="btn btn-resolve">Risolvi</button>
                                            </div>

                                        </div>
                                    </div>
                                </div>

                                <div class="card">
                                    <div class="card-container">
                                        <div class="card-header">
                                            <div class="problem-icon">⚠️</div>
                                            <div class="problem-content">
                                                <div class="problem-title">Conflitto tra automazioni luce cucina</div>
                                                <div class="problem-id">CONFLITTO 2</div>
                                            </div>
                                        </div>
                                        <div class="card-body">
                                            <span class="card-text">
                                                Le automazioni 'Accendi la luce in cucina quando il forno viene spento' (id 2) e 'Spegni luce cucina quando il forno viene spento' (id 1) sono in conflitto perché entrambe si attivano quando il forno viene spento, ma una accende e l'altra spegne la stessa luce (light.luce_cucina), causando un comportamento imprevedibile.
                                            </span>
                                            <div class="conflict-diagram">
                                                <div class="diagram-title">quando il forno viene spento</div>
                                                <div class="condition-box">
                                                            se piove
                                                        </div>
                                                <table class="conflict_rappresentation_containers">
                                                    
                                                    <tr>
                                                        <td>
                                                        <div class="action-box">
                                                            accendi la luce in cucina<br>
                                                            <small>Accendi la luce in cucina quando il forno viene spento</small>
                                                        </div>
                                                        </td>
                                                        <td class="conflict-icon-td">
                                                            <div class="conflict-icon">⚡</div>
                                                        </td>
                                                        <td>
                                                        <div class="action-box">
                                                            spegni la luce della cucina<br>
                                                            <small>Spegni luce cucina quando il forno viene spento</small>
                                                        </div>
                                                        </td>
                                                    </tr>
                                                </table>
                                            </div>
                                            
                                            <p class="card-title">Come posso risolvere?</p>
                                            <div class="accordion stay-open">
                                                <div class="accordion-item">
                                                <h2 class="accordion-header">
                                                    <button class="accordion-button" onclick="toggleStayOpen(this)">
                                                    Modifica l'automazione "Accendi aria condizionata mattina"
                                                    </button>
                                                </h2>
                                                <div class="accordion-collapse active">
                                                    <div class="accordion-body">
                                                        <div class="form-check">
                                                            <input class="form-check-input" type="radio" name="radioDefault" id="radioDefault1">
                                                            <label class="form-check-label" for="radioDefault1">
                                                            Default radio
                                                            </label>
                                                        </div>
                                                        <div class="form-check">
                                                            <input class="form-check-input" type="radio" name="radioDefault" id="radioDefault2" >
                                                            <label class="form-check-label" for="radioDefault2">
                                                            Default radio
                                                            </label>
                                                        </div>
                                                        <div class="form-check">
                                                            <input class="form-check-input" type="radio" name="radioDefault" id="radioDefault2" >
                                                            <label class="form-check-label" for="radioDefault2">
                                                            Default radio
                                                            </label>
                                                        </div>
                                                        
                                                    </div>
                                                </div>
                                                </div>
                                            
                                                <div class="accordion-item">
                                                <h2 class="accordion-header">
                                                    <button class="accordion-button" onclick="toggleStayOpen(this)">
                                                    Modifica l'automazione "Chiudi finestre aria condizionata accesa"
                                                    </button>
                                                </h2>
                                                <div class="accordion-collapse">
                                                    <div class="accordion-body">
                                                        <div class="form-check">
                                                            <input class="form-check-input" type="radio" name="radioDefault" id="radioDefault1">
                                                            <label class="form-check-label" for="radioDefault1">
                                                            Default radio
                                                            </label>
                                                        </div>
                                                        <div class="form-check">
                                                            <input class="form-check-input" type="radio" name="radioDefault" id="radioDefault2" >
                                                            <label class="form-check-label" for="radioDefault2">
                                                            Default radio
                                                            </label>
                                                        </div>
                                                        <div class="form-check">
                                                            <input class="form-check-input" type="radio" name="radioDefault" id="radioDefault2" >
                                                            <label class="form-check-label" for="radioDefault2">
                                                            Default radio
                                                            </label>
                                                        </div>
                                                        
                                                    </div>
                                                </div>
                                                </div>
                                            
                                            </div>
                                            <div class="action-buttons">
                                                <button class="btn btn-ignore">Ignora</button>
                                                <button class="btn btn-resolve">Risolvi</button>
                                            </div>

                                        </div>
                                    </div>
                                </div>       
                                
                                <div class="card">
                                    <div class="card-container">
                                        <div class="card-header">
                                            <div class="problem-icon">⚠️</div>
                                            <div class="problem-content">
                                                <div class="problem-title">Conflitto tra automazioni luce cucina</div>
                                                <div class="problem-id">CONFLITTO 2.1</div>
                                            </div>
                                        </div>
                                        <div class="card-body">
                                            <span class="card-text">
                                                Le automazioni 'Accendi la luce in cucina quando il forno viene spento' (id 2) e 'Spegni luce cucina quando il forno viene spento' (id 1) sono in conflitto perché entrambe si attivano quando il forno viene spento, ma una accende e l'altra spegne la stessa luce (light.luce_cucina), causando un comportamento imprevedibile.
                                            </span>
                                            <div class="conflict-diagram">
                                                <div class="diagram-title">quando il forno viene spento</div>
                                                <div class="condition-box">
                                                            se piove
                                                        </div>
                                                <table class="conflict_rappresentation_containers">
                                                    
                                                    <tr>
                                                        <td>
                                                        <div class="action-box">
                                                            accendi la luce in cucina<br>
                                                        
                                                        </div>
                                                        </td>
                                                        <td class="conflict-icon-td">
                                                            <div class="conflict-icon">⚡</div>
                                                        </td>
                                                        <td>
                                                        <div class="action-box">
                                                            spegni la luce della cucina<br>
                                                            
                                                        </div>
                                                        </td>
                                                    </tr>
                                                    <tr>
                                                        <td>
                                                        <div>
                                                            <i>Accendi la luce in cucina quando il forno viene spento</i>
                                                        </div>
                                                        </td>
                                                        <td>
                                                        </td>
                                                        <td>
                                                        <div>
                                                            <i>Spegni luce cucina quando il forno viene spento</i>
                                                        </div>
                                                        </td>
                                                    </tr>
                                            
                                                </table>
                                            </div>
                                            
                                            <p class="card-title">Come posso risolvere?</p>
                                            <div class="accordion stay-open">
                                                <div class="accordion-item">
                                                <h2 class="accordion-header">
                                                    <button class="accordion-button" onclick="toggleStayOpen(this)">
                                                    Modifica l'automazione "Accendi aria condizionata mattina"
                                                    </button>
                                                </h2>
                                                <div class="accordion-collapse active">
                                                    <div class="accordion-body">
                                                        <div class="form-check">
                                                            <input class="form-check-input" type="radio" name="radioDefault" id="radioDefault1">
                                                            <label class="form-check-label" for="radioDefault1">
                                                            Default radio
                                                            </label>
                                                        </div>
                                                        <div class="form-check">
                                                            <input class="form-check-input" type="radio" name="radioDefault" id="radioDefault2" >
                                                            <label class="form-check-label" for="radioDefault2">
                                                            Default radio
                                                            </label>
                                                        </div>
                                                        <div class="form-check">
                                                            <input class="form-check-input" type="radio" name="radioDefault" id="radioDefault2" >
                                                            <label class="form-check-label" for="radioDefault2">
                                                            Default radio
                                                            </label>
                                                        </div>
                                                        
                                                    </div>
                                                </div>
                                                </div>
                                            
                                                <div class="accordion-item">
                                                <h2 class="accordion-header">
                                                    <button class="accordion-button" onclick="toggleStayOpen(this)">
                                                    Modifica l'automazione "Chiudi finestre aria condizionata accesa"
                                                    </button>
                                                </h2>
                                                <div class="accordion-collapse">
                                                    <div class="accordion-body">
                                                        <div class="form-check">
                                                            <input class="form-check-input" type="radio" name="radioDefault" id="radioDefault1">
                                                            <label class="form-check-label" for="radioDefault1">
                                                            Default radio
                                                            </label>
                                                        </div>
                                                        <div class="form-check">
                                                            <input class="form-check-input" type="radio" name="radioDefault" id="radioDefault2" >
                                                            <label class="form-check-label" for="radioDefault2">
                                                            Default radio
                                                            </label>
                                                        </div>
                                                        <div class="form-check">
                                                            <input class="form-check-input" type="radio" name="radioDefault" id="radioDefault2" >
                                                            <label class="form-check-label" for="radioDefault2">
                                                            Default radio
                                                            </label>
                                                        </div>
                                                        
                                                    </div>
                                                </div>
                                                </div>
                                            
                                            </div>
                                            <div class="action-buttons">
                                                <button class="btn btn-ignore">Ignora</button>
                                                <button class="btn btn-resolve">Risolvi</button>
                                            </div>

                                        </div>
                                    </div>
                                </div> 
                                   
                                <div class="card">
                                    <div class="card-container">
                                        <div class="card-header">
                                            <div class="problem-icon">⚠️</div>
                                            <div class="problem-content">
                                                <div class="problem-title">Conflitto tra automazioni luce cucina</div>
                                                <div class="problem-id">CONFLITTO 3</div>
                                            </div>
                                        </div>
                                        <div class="card-body">
                                            <span class="card-text">
                                                Le automazioni 'Accendi la luce in cucina quando il forno viene spento' (id 2) e 'Spegni luce cucina quando il forno viene spento' (id 1) sono in conflitto perché entrambe si attivano quando il forno viene spento, ma una accende e l'altra spegne la stessa luce (light.luce_cucina), causando un comportamento imprevedibile.
                                            </span>
                                            <div class="conflict-diagram">
                                                <div class="diagram-title">quando il forno viene spento</div>
                                                <table class="conflict_rappresentation_containers">
                                                    <tr>
                                                        <td>
                                                        <div class="condition-box">
                                                            se piove
                                                        </div>
                                                        </td>
                                                        <td>
                                                        </td>
                                                        <td>
                                                        <div class="condition-box">
                                                            se è mattina
                                                        </div>
                                                        </td>
                                                    </tr>
                                                    
                                                    <tr>
                                                        <td>
                                                        <div class="action-box">
                                                            accendi la luce in cucina
                                                        </div>
                                                        </td>
                                                        <td class="conflict-icon-td">
                                                            <div class="conflict-icon">⚡</div>
                                                        </td>
                                                        <td>
                                                        <div class="action-box">
                                                            spegni la luce della cucina
                                                        </div>
                                                        </td>
                                                    </tr>
                                                    <tr>
                                                        <td>
                                                        <div>
                                                            <i>Accendi la luce in cucina quando il forno viene spento</i>
                                                        </div>
                                                        </td>
                                                        <td>
                                                        </td>
                                                        <td>
                                                        <div>
                                                            <i>Spegni luce cucina quando il forno viene spento</i>
                                                        </div>
                                                        </td>
                                                    </tr>
                                                </table>
                                            </div>
                                            
                                            <p class="card-title">Come posso risolvere?</p>
                                            <div class="accordion stay-open">
                                                <div class="accordion-item">
                                                <h2 class="accordion-header">
                                                    <button class="accordion-button" onclick="toggleStayOpen(this)">
                                                    Modifica l'automazione "Accendi aria condizionata mattina"
                                                    </button>
                                                </h2>
                                                <div class="accordion-collapse active">
                                                    <div class="accordion-body">
                                                        <div class="form-check">
                                                            <input class="form-check-input" type="radio" name="radioDefault" id="radioDefault1">
                                                            <label class="form-check-label" for="radioDefault1">
                                                            Default radio
                                                            </label>
                                                        </div>
                                                        <div class="form-check">
                                                            <input class="form-check-input" type="radio" name="radioDefault" id="radioDefault2" >
                                                            <label class="form-check-label" for="radioDefault2">
                                                            Default radio
                                                            </label>
                                                        </div>
                                                        <div class="form-check">
                                                            <input class="form-check-input" type="radio" name="radioDefault" id="radioDefault2" >
                                                            <label class="form-check-label" for="radioDefault2">
                                                            Default radio
                                                            </label>
                                                        </div>
                                                        
                                                    </div>
                                                </div>
                                                </div>
                                            
                                                <div class="accordion-item">
                                                <h2 class="accordion-header">
                                                    <button class="accordion-button" onclick="toggleStayOpen(this)">
                                                    Modifica l'automazione "Chiudi finestre aria condizionata accesa"
                                                    </button>
                                                </h2>
                                                <div class="accordion-collapse">
                                                    <div class="accordion-body">
                                                        <div class="form-check">
                                                            <input class="form-check-input" type="radio" name="radioDefault" id="radioDefault1">
                                                            <label class="form-check-label" for="radioDefault1">
                                                            Default radio
                                                            </label>
                                                        </div>
                                                        <div class="form-check">
                                                            <input class="form-check-input" type="radio" name="radioDefault" id="radioDefault2" >
                                                            <label class="form-check-label" for="radioDefault2">
                                                            Default radio
                                                            </label>
                                                        </div>
                                                        <div class="form-check">
                                                            <input class="form-check-input" type="radio" name="radioDefault" id="radioDefault2" >
                                                            <label class="form-check-label" for="radioDefault2">
                                                            Default radio
                                                            </label>
                                                        </div>
                                                        
                                                    </div>
                                                </div>
                                                </div>
                                            
                                            </div>
                                            <div class="action-buttons">
                                                <button class="btn btn-ignore">Ignora</button>
                                                <button class="btn btn-resolve">Risolvi</button>
                                            </div>

                                        </div>
                                    </div>
                                </div> 
                                
                                <div class="card border-dark carousel__item not_active">
                                    <div class="card-header">Catena Indiretta</div>
                                    <div class="card-body">
                                        <span class="card-text">
                                            L'esecuzione dell'automazione "<i>Accendi aria condizionata quando è caldo</i>" può attivare l'automazione 
                                            "<i>Spegni dispositivi rumore alto</i>" perchè può alterare la variabile <b>rumore</b>.
                                        </span>
                                        <div class="container_arrow">
                                            <p>Quando è caldo, <b>accendi aria condionata</b></p>
                                            <p class="automation_name"><i>Accendi luce salotto</i></p>
                                                <p>
                                                    <svg class="svg_chain" width="18" height="40" viewBox="0 0 18 40" fill="none" xmlns="http://www.w3.org/2000/svg">
                                                        <path d="M9 39.9991L17.7538 25.0535L0.433666 24.9453L9 39.9991ZM7.75003 -0.00937502L7.73701 2.07396L10.7369 2.09271L10.75 0.00937502L7.75003 -0.00937502ZM7.71097 6.24063L7.68492 10.4073L10.6849 10.4261L10.7109 6.25938L7.71097 6.24063ZM7.65888 14.574L7.63284 18.7407L10.6328 18.7594L10.6588 14.5927L7.65888 14.574ZM7.6068 22.9073L7.59378 24.9907L10.5937 25.0094L10.6067 22.9261L7.6068 22.9073ZM7.59378 24.9907L7.58596 26.2406L10.5859 26.2593L10.5937 25.0094L7.59378 24.9907ZM7.57034 28.7404L7.55471 31.2403L10.5547 31.259L10.5703 28.7592L7.57034 28.7404ZM7.53909 33.7401L7.52347 36.24L10.5234 36.2587L10.539 33.7589L7.53909 33.7401ZM9 39.9991L17.7538 25.0535L0.433666 24.9453L9 39.9991ZM7.75003 -0.00937502L7.73701 2.07396L10.7369 2.09271L10.75 0.00937502L7.75003 -0.00937502ZM7.71097 6.24063L7.68492 10.4073L10.6849 10.4261L10.7109 6.25938L7.71097 6.24063ZM7.65888 14.574L7.63284 18.7407L10.6328 18.7594L10.6588 14.5927L7.65888 14.574ZM7.6068 22.9073L7.59378 24.9907L10.5937 25.0094L10.6067 22.9261L7.6068 22.9073ZM7.59378 24.9907L7.58596 26.2406L10.5859 26.2593L10.5937 25.0094L7.59378 24.9907ZM7.57034 28.7404L7.55471 31.2403L10.5547 31.259L10.5703 28.7592L7.57034 28.7404ZM7.53909 33.7401L7.52347 36.24L10.5234 36.2587L10.539 33.7589L7.53909 33.7401Z" fill="#4E63CC"></path>
                                                    </svg>
                                                </p>
                                            <p><i>rumore</i></p>
                                            <p>
                                                <svg class="svg_chain" width="18" height="40" viewBox="0 0 18 40" fill="none" xmlns="http://www.w3.org/2000/svg">
                                                    <path d="M9 39.9991L17.7538 25.0535L0.433666 24.9453L9 39.9991ZM7.75003 -0.00937502L7.73701 2.07396L10.7369 2.09271L10.75 0.00937502L7.75003 -0.00937502ZM7.71097 6.24063L7.68492 10.4073L10.6849 10.4261L10.7109 6.25938L7.71097 6.24063ZM7.65888 14.574L7.63284 18.7407L10.6328 18.7594L10.6588 14.5927L7.65888 14.574ZM7.6068 22.9073L7.59378 24.9907L10.5937 25.0094L10.6067 22.9261L7.6068 22.9073ZM7.59378 24.9907L7.58596 26.2406L10.5859 26.2593L10.5937 25.0094L7.59378 24.9907ZM7.57034 28.7404L7.55471 31.2403L10.5547 31.259L10.5703 28.7592L7.57034 28.7404ZM7.53909 33.7401L7.52347 36.24L10.5234 36.2587L10.539 33.7589L7.53909 33.7401ZM9 39.9991L17.7538 25.0535L0.433666 24.9453L9 39.9991ZM7.75003 -0.00937502L7.73701 2.07396L10.7369 2.09271L10.75 0.00937502L7.75003 -0.00937502ZM7.71097 6.24063L7.68492 10.4073L10.6849 10.4261L10.7109 6.25938L7.71097 6.24063ZM7.65888 14.574L7.63284 18.7407L10.6328 18.7594L10.6588 14.5927L7.65888 14.574ZM7.6068 22.9073L7.59378 24.9907L10.5937 25.0094L10.6067 22.9261L7.6068 22.9073ZM7.59378 24.9907L7.58596 26.2406L10.5859 26.2593L10.5937 25.0094L7.59378 24.9907ZM7.57034 28.7404L7.55471 31.2403L10.5547 31.259L10.5703 28.7592L7.57034 28.7404ZM7.53909 33.7401L7.52347 36.24L10.5234 36.2587L10.539 33.7589L7.53909 33.7401Z" fill="#4E63CC"></path>
                                                </svg>
                                            </p>
                                            <p>Quando c'è troppo rumore, <b>spegni tutti i dispositivi</b></p>
                                            <p class="automation_name"><i>Spegni dispositivi rumore alto</i></p>
                                        </div>
                                        <p class="card-title">Come posso risolvere?</p>
                                        <div class="accordion stay-open">
                                            <div class="accordion-item">
                                            <h2 class="accordion-header">
                                                <button class="accordion-button" onclick="toggleStayOpen(this)">
                                                Modifica l'automazione "Accendi aria condizionata quando è caldo"
                                                </button>
                                            </h2>
                                            <div class="accordion-collapse active">
                                                <div class="accordion-body">
                                                    <div class="form-check">
                                                        <input class="form-check-input" type="radio" name="radioDefault" id="radioDefault1">
                                                        <label class="form-check-label" for="radioDefault1">
                                                        Default radio
                                                        </label>
                                                    </div>
                                                    <div class="form-check">
                                                        <input class="form-check-input" type="radio" name="radioDefault" id="radioDefault2" >
                                                        <label class="form-check-label" for="radioDefault2">
                                                        Default radio
                                                        </label>
                                                    </div>
                                                    <div class="form-check">
                                                        <input class="form-check-input" type="radio" name="radioDefault" id="radioDefault2" >
                                                        <label class="form-check-label" for="radioDefault2">
                                                        Default radio
                                                        </label>
                                                    </div>
                                                    
                                                </div>
                                            </div>
                                            </div>
                                        
                                            <div class="accordion-item">
                                            <h2 class="accordion-header">
                                                <button class="accordion-button" onclick="toggleStayOpen(this)">
                                                Modifica l'automazione "Spegni dispositivi rumore alto"
                                                </button>
                                            </h2>
                                            <div class="accordion-collapse">
                                                <div class="accordion-body">
                                                    <div class="form-check">
                                                        <input class="form-check-input" type="radio" name="radioDefault" id="radioDefault1">
                                                        <label class="form-check-label" for="radioDefault1">
                                                        Default radio
                                                        </label>
                                                    </div>
                                                    <div class="form-check">
                                                        <input class="form-check-input" type="radio" name="radioDefault" id="radioDefault2" >
                                                        <label class="form-check-label" for="radioDefault2">
                                                        Default radio
                                                        </label>
                                                    </div>
                                                    <div class="form-check">
                                                        <input class="form-check-input" type="radio" name="radioDefault" id="radioDefault2" >
                                                        <label class="form-check-label" for="radioDefault2">
                                                        Default radio
                                                        </label>
                                                    </div>
                                                    
                                                </div>
                                            </div>
                                            </div>
                                        
                                        </div>
                                        <div class="form-check">
                                            <input class="form-check-input" type="radio" name="radioDefault" id="radioDefault2" >
                                            <label class="form-check-label" for="radioDefault2">
                                            Ignora il problema
                                            </label>
                                        </div>

                                    </div>
                                </div>

                                <div class="card border-dark carousel__item not_active">
                                    <div class="card-header">Conflitto 1</div>
                                    <div class="card-body">
                                        <span class="card-text">
                                            
                                            Le automazioni "automazione 1" e "automazione 2" sono in conflitto quando sono le 09:00 perché le azioni che eseguono sono incompatibili tra loro.
                                        </span>
                                        <div class="container_arrow">
                                            <p>Alle 09:00</p>
                                            <p>
                                                <svg class="svg_conflict" width="717" height="160" viewBox="0 0 717 160" fill="none" xmlns="http://www.w3.org/2000/svg">
                                                    <path d="M21 160L41.2073 125H0.79274L21 160ZM21 75H17.5L17.5 117.5H21H24.5L24.5 75H21ZM21 117.5H17.5V128.5H21H24.5V117.5H21Z" fill="#4E63CC"/>
                                                    <path d="M696 160L716.207 125H675.793L696 160ZM696 75H692.5V117.5H696H699.5V75H696ZM696 117.5H692.5V128.5H696H699.5V117.5H696Z" fill="#4E63CC"/>
                                                    <line x1="17.5" y1="71.579" x2="699.5" y2="71.579" stroke="#4E63CC" stroke-width="7"/>
                                                    <line x1="358.5" y1="70" x2="358.5" y2="-3.45707e-06" stroke="#4E63CC" stroke-width="7"/>
                                                </svg>
                                            </p>
                                        </div>
                                        <table class="conflict_rappresentation_container no_mt">
                                            <tr>
                                                <td>
                                                    <span>accendi</span> la luce salotto </br><i class="automation_name">nome automazione 1</i>
                                                </td>
                                                <td class="cell_img_conf">
                                                    <img src="img/conflict2.png"></td>
                                                <td>
                                                    <span>spegni</span> la luce salotto </br><i class="automation_name">nome automazione 2</i>
                                                </td>
                                            </tr>
                                        </table>
                                        <div class="card-title">Come posso risolvere?</div>
                                        <div class="accordion stay-open">
                                            <div class="accordion-item">
                                            <h2 class="accordion-header">
                                                <button class="accordion-button" onclick="toggleStayOpen(this)">
                                                Modifica l'automazione "Accendi aria condizionata quando è caldo"
                                                </button>
                                            </h2>
                                            <div class="accordion-collapse active">
                                                <div class="accordion-body">
                                                    <div class="form-check">
                                                        <input class="form-check-input" type="radio" name="radioDefault" id="radioDefault1">
                                                        <label class="form-check-label" for="radioDefault1">
                                                        Default radio
                                                        </label>
                                                    </div>
                                                    <div class="form-check">
                                                        <input class="form-check-input" type="radio" name="radioDefault" id="radioDefault2" >
                                                        <label class="form-check-label" for="radioDefault2">
                                                        Default radio
                                                        </label>
                                                    </div>
                                                    <div class="form-check">
                                                        <input class="form-check-input" type="radio" name="radioDefault" id="radioDefault2" >
                                                        <label class="form-check-label" for="radioDefault2">
                                                        Default radio
                                                        </label>
                                                    </div>
                                                    
                                                </div>
                                            </div>
                                            </div>
                                        
                                            <div class="accordion-item">
                                            <h2 class="accordion-header">
                                                <button class="accordion-button" onclick="toggleStayOpen(this)">
                                                Modifica l'automazione "Spegni dispositivi rumore alto"
                                                </button>
                                            </h2>
                                            <div class="accordion-collapse">
                                                <div class="accordion-body">
                                                    <div class="form-check">
                                                        <input class="form-check-input" type="radio" name="radioDefault" id="radioDefault1">
                                                        <label class="form-check-label" for="radioDefault1">
                                                        Default radio
                                                        </label>
                                                    </div>
                                                    <div class="form-check">
                                                        <input class="form-check-input" type="radio" name="radioDefault" id="radioDefault2" >
                                                        <label class="form-check-label" for="radioDefault2">
                                                        Default radio
                                                        </label>
                                                    </div>
                                                    <div class="form-check">
                                                        <input class="form-check-input" type="radio" name="radioDefault" id="radioDefault2" >
                                                        <label class="form-check-label" for="radioDefault2">
                                                        Default radio
                                                        </label>
                                                    </div>
                                                    
                                                </div>
                                            </div>
                                            </div>
                                        
                                        </div>
                                        <div class="form-check">
                                            <input class="form-check-input" type="radio" name="radioDefault" id="radioDefault2" >
                                            <label class="form-check-label" for="radioDefault2">
                                            Ignora il problema
                                            </label>
                                        </div>

                                    </div>
                                </div>  

                                <div class="card border-dark carousel__item not_active">
                                    <div class="card-header">Conflitto 2</div>
                                    <div class="card-body">
                                        
                                        <span class="card-text">
                            
                                            Le automazioni "automazione 1" e "automazione 2"  sono in conflitto quando sono le 09:00, se piove e se sono in salotto perché le azioni che eseguono sono incompatibili tra loro.
                                        </span>
                                        <div class="container_arrow">
                                            <p>Alle 09:00</p>
                                            <p>
                                                <svg class="svg_conflict" width="717" height="160" viewBox="0 0 717 160" fill="none" xmlns="http://www.w3.org/2000/svg">
                                                    <path d="M21 160L41.2073 125H0.79274L21 160ZM21 75H17.5L17.5 117.5H21H24.5L24.5 75H21ZM21 117.5H17.5V128.5H21H24.5V117.5H21Z" fill="#4E63CC"/>
                                                    <path d="M696 160L716.207 125H675.793L696 160ZM696 75H692.5V117.5H696H699.5V75H696ZM696 117.5H692.5V128.5H696H699.5V117.5H696Z" fill="#4E63CC"/>
                                                    <line x1="17.5" y1="71.579" x2="699.5" y2="71.579" stroke="#4E63CC" stroke-width="7"/>
                                                    <line x1="358.5" y1="70" x2="358.5" y2="-3.45707e-06" stroke="#4E63CC" stroke-width="7"/>
                                                </svg>
                                            </p>
                                        </div>
                                        <table class="conflict_rappresentation_container no_mt">
                                            <tr>
                                                <td style="color: green">se piove</td>
                                                <td></td>
                                                <td style="color:green">se è mattina</td>
                                            </tr>
                                            <tr>
                                                <td>
                                                    <svg class="svg_conflict2" width='18' height='40' viewBox='0 0 18 40' fill='none' xmlns='http://www.w3.org/2000/svg'>
                                                        <path d='M8.75 39.9991L17.5038 25.0535L0.183666 24.9453L8.75 39.9991ZM7.50003 -0.00937502L7.34378 24.9907L10.3437 25.0094L10.5 0.00937502L7.50003 -0.00937502ZM7.34378 24.9907L7.3344 26.49L10.3343 26.5088L10.3437 25.0094L7.34378 24.9907Z' fill='#4E63CC'/>
                                                    </svg>
                                                </td>
                                                <td></td>
                                                <td>
                                                    <svg class="svg_conflict2" width='18' height='40' viewBox='0 0 18 40' fill='none' xmlns='http://www.w3.org/2000/svg'>
                                                        <path d='M8.75 39.9991L17.5038 25.0535L0.183666 24.9453L8.75 39.9991ZM7.50003 -0.00937502L7.34378 24.9907L10.3437 25.0094L10.5 0.00937502L7.50003 -0.00937502ZM7.34378 24.9907L7.3344 26.49L10.3343 26.5088L10.3437 25.0094L7.34378 24.9907Z' fill='#4E63CC'/>
                                                    </svg>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td>
                                                    <span>accendi</span> la luce salotto </br><i class="automation_name">nome automazione 1</i>
                                                </td>
                                                <td class="cell_img_conf">
                                                    <img src="img/conflict2.png"></td>
                                                <td>
                                                    <span>spegni</span> la luce salotto </br><i class="automation_name">nome automazione 2</i>
                                                </td>
                                            </tr>
                                        </table>
                                        <div class="card-title">Come posso risolvere?</div>
                                        <div class="accordion stay-open">
                                            <div class="accordion-item">
                                            <h2 class="accordion-header">
                                                <button class="accordion-button" onclick="toggleStayOpen(this)">
                                                Modifica l'automazione "Accendi aria condizionata quando è caldo"
                                                </button>
                                            </h2>
                                            <div class="accordion-collapse active">
                                                <div class="accordion-body">
                                                    <div class="form-check">
                                                        <input class="form-check-input" type="radio" name="radioDefault" id="radioDefault1">
                                                        <label class="form-check-label" for="radioDefault1">
                                                        Default radio
                                                        </label>
                                                    </div>
                                                    <div class="form-check">
                                                        <input class="form-check-input" type="radio" name="radioDefault" id="radioDefault2" >
                                                        <label class="form-check-label" for="radioDefault2">
                                                        Default radio
                                                        </label>
                                                    </div>
                                                    <div class="form-check">
                                                        <input class="form-check-input" type="radio" name="radioDefault" id="radioDefault2" >
                                                        <label class="form-check-label" for="radioDefault2">
                                                        Default radio
                                                        </label>
                                                    </div>
                                                    
                                                </div>
                                            </div>
                                            </div>
                                        
                                            <div class="accordion-item">
                                            <h2 class="accordion-header">
                                                <button class="accordion-button" onclick="toggleStayOpen(this)">
                                                Modifica l'automazione "Spegni dispositivi rumore alto"
                                                </button>
                                            </h2>
                                            <div class="accordion-collapse">
                                                <div class="accordion-body">
                                                    <div class="form-check">
                                                        <input class="form-check-input" type="radio" name="radioDefault" id="radioDefault1">
                                                        <label class="form-check-label" for="radioDefault1">
                                                        Default radio
                                                        </label>
                                                    </div>
                                                    <div class="form-check">
                                                        <input class="form-check-input" type="radio" name="radioDefault" id="radioDefault2" >
                                                        <label class="form-check-label" for="radioDefault2">
                                                        Default radio
                                                        </label>
                                                    </div>
                                                    <div class="form-check">
                                                        <input class="form-check-input" type="radio" name="radioDefault" id="radioDefault2" >
                                                        <label class="form-check-label" for="radioDefault2">
                                                        Default radio
                                                        </label>
                                                    </div>
                                                    
                                                </div>
                                            </div>
                                            </div>
                                        
                                        </div>
                                        <div class="form-check">
                                            <input class="form-check-input" type="radio" name="radioDefault" id="radioDefault2" >
                                            <label class="form-check-label" for="radioDefault2">
                                            Ignora il problema
                                            </label>
                                        </div>

                                    </div>
                                </div>

                                <div class="card border-dark carousel__item not_active">
                                    <div class="card-header">Conflitto 3</div>
                                    <div class="card-body">
                                        
                                        <span class="card-text">
                                        
                                            Le automazioni "automazione 1" e "automazione 2" sono in conflitto quando sono le 09:00 e quando entro in cucina perché le azioni che eseguono sono incompatibili tra loro.
                                        </span>
                                        <table class="conflict_rappresentation_container">
                                            <tr>
                                                <td>Alle 09:00</td>
                                                <td></td>
                                                <td>Quando entro in cucina</td>
                                            </tr>
                                            <tr>
                                                <td>
                                                    <svg class="svg_conflict2" width='18' height='40' viewBox='0 0 18 40' fill='none' xmlns='http://www.w3.org/2000/svg'>
                                                        <path d='M8.75 39.9991L17.5038 25.0535L0.183666 24.9453L8.75 39.9991ZM7.50003 -0.00937502L7.34378 24.9907L10.3437 25.0094L10.5 0.00937502L7.50003 -0.00937502ZM7.34378 24.9907L7.3344 26.49L10.3343 26.5088L10.3437 25.0094L7.34378 24.9907Z' fill='#4E63CC'/>
                                                    </svg>
                                                </td>
                                                <td></td>
                                                <td>
                                                    <svg class="svg_conflict2" width='18' height='40' viewBox='0 0 18 40' fill='none' xmlns='http://www.w3.org/2000/svg'>
                                                        <path d='M8.75 39.9991L17.5038 25.0535L0.183666 24.9453L8.75 39.9991ZM7.50003 -0.00937502L7.34378 24.9907L10.3437 25.0094L10.5 0.00937502L7.50003 -0.00937502ZM7.34378 24.9907L7.3344 26.49L10.3343 26.5088L10.3437 25.0094L7.34378 24.9907Z' fill='#4E63CC'/>
                                                    </svg>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td>
                                                    <span>accendi</span> la luce salotto </br><i class="automation_name">nome automazione 1</i>
                                                </td>
                                                <td class="cell_img_conf">
                                                    <img src="img/conflict2.png"></td>
                                                <td>
                                                    <span>spegni</span> la luce salotto </br><i class="automation_name">nome automazione 2</i>
                                                </td>
                                            </tr>
                                        </table>
                                        <div class="card-title">Come posso risolvere?</div>
                                        <div class="accordion stay-open">
                                            <div class="accordion-item">
                                            <h2 class="accordion-header">
                                                <button class="accordion-button" onclick="toggleStayOpen(this)">
                                                Modifica l'automazione "Accendi aria condizionata quando è caldo"
                                                </button>
                                            </h2>
                                            <div class="accordion-collapse active">
                                                <div class="accordion-body">
                                                    <div class="form-check">
                                                        <input class="form-check-input" type="radio" name="radioDefault" id="radioDefault1">
                                                        <label class="form-check-label" for="radioDefault1">
                                                        Default radio
                                                        </label>
                                                    </div>
                                                    <div class="form-check">
                                                        <input class="form-check-input" type="radio" name="radioDefault" id="radioDefault2" >
                                                        <label class="form-check-label" for="radioDefault2">
                                                        Default radio
                                                        </label>
                                                    </div>
                                                    <div class="form-check">
                                                        <input class="form-check-input" type="radio" name="radioDefault" id="radioDefault2" >
                                                        <label class="form-check-label" for="radioDefault2">
                                                        Default radio
                                                        </label>
                                                    </div>
                                                    
                                                </div>
                                            </div>
                                            </div>
                                        
                                            <div class="accordion-item">
                                            <h2 class="accordion-header">
                                                <button class="accordion-button" onclick="toggleStayOpen(this)">
                                                Modifica l'automazione "Spegni dispositivi rumore alto"
                                                </button>
                                            </h2>
                                            <div class="accordion-collapse">
                                                <div class="accordion-body">
                                                    <div class="form-check">
                                                        <input class="form-check-input" type="radio" name="radioDefault" id="radioDefault1">
                                                        <label class="form-check-label" for="radioDefault1">
                                                        Default radio
                                                        </label>
                                                    </div>
                                                    <div class="form-check">
                                                        <input class="form-check-input" type="radio" name="radioDefault" id="radioDefault2" >
                                                        <label class="form-check-label" for="radioDefault2">
                                                        Default radio
                                                        </label>
                                                    </div>
                                                    <div class="form-check">
                                                        <input class="form-check-input" type="radio" name="radioDefault" id="radioDefault2" >
                                                        <label class="form-check-label" for="radioDefault2">
                                                        Default radio
                                                        </label>
                                                    </div>
                                                    
                                                </div>
                                            </div>
                                            </div>
                                        
                                        </div>
                                        <div class="form-check">
                                            <input class="form-check-input" type="radio" name="radioDefault" id="radioDefault2" >
                                            <label class="form-check-label" for="radioDefault2">
                                            Ignora il problema
                                            </label>
                                        </div>

                                    </div>
                                </div> 

                                <div class="card border-dark carousel__item not_active">
                                    <div class="card-header">Conflitto 4</div>
                                    <div class="card-body">
                                        <span class="card-text">
                                            Le automazioni "automazione 1" e "automazione 2" sono in conflitto quando sono le 09:00 e se piove e quando entro in cucina e se è mattina  perché le azioni che eseguono sono incompatibili tra loro.
                                        </span>
                                        
                                        <table class="conflict_rappresentation_container">
                                            <tr>
                                                <td>Alle 09:00</td>
                                                <td></td>
                                                <td>Quando entro in cucina</td>
                                            </tr>
                                            <tr>
                                                <td>
                                                    <svg class="svg_conflict2" width='18' height='40' viewBox='0 0 18 40' fill='none' xmlns='http://www.w3.org/2000/svg'>
                                                        <path d='M8.75 39.9991L17.5038 25.0535L0.183666 24.9453L8.75 39.9991ZM7.50003 -0.00937502L7.34378 24.9907L10.3437 25.0094L10.5 0.00937502L7.50003 -0.00937502ZM7.34378 24.9907L7.3344 26.49L10.3343 26.5088L10.3437 25.0094L7.34378 24.9907Z' fill='#4E63CC'/>
                                                    </svg>
                                                </td>
                                                <td></td>
                                                <td>
                                                    <svg class="svg_conflict2" width='18' height='40' viewBox='0 0 18 40' fill='none' xmlns='http://www.w3.org/2000/svg'>
                                                        <path d='M8.75 39.9991L17.5038 25.0535L0.183666 24.9453L8.75 39.9991ZM7.50003 -0.00937502L7.34378 24.9907L10.3437 25.0094L10.5 0.00937502L7.50003 -0.00937502ZM7.34378 24.9907L7.3344 26.49L10.3343 26.5088L10.3437 25.0094L7.34378 24.9907Z' fill='#4E63CC'/>
                                                    </svg>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td>se piove</td>
                                                <td></td>
                                                <td>se è mattina</td>
                                            </tr>
                                            <tr>
                                                <td>
                                                    <svg class="svg_conflict2" width='18' height='40' viewBox='0 0 18 40' fill='none' xmlns='http://www.w3.org/2000/svg'>
                                                        <path d='M8.75 39.9991L17.5038 25.0535L0.183666 24.9453L8.75 39.9991ZM7.50003 -0.00937502L7.34378 24.9907L10.3437 25.0094L10.5 0.00937502L7.50003 -0.00937502ZM7.34378 24.9907L7.3344 26.49L10.3343 26.5088L10.3437 25.0094L7.34378 24.9907Z' fill='#4E63CC'/>
                                                    </svg>
                                                </td>
                                                <td></td>
                                                <td>
                                                    <svg class="svg_conflict2" width='18' height='40' viewBox='0 0 18 40' fill='none' xmlns='http://www.w3.org/2000/svg'>
                                                        <path d='M8.75 39.9991L17.5038 25.0535L0.183666 24.9453L8.75 39.9991ZM7.50003 -0.00937502L7.34378 24.9907L10.3437 25.0094L10.5 0.00937502L7.50003 -0.00937502ZM7.34378 24.9907L7.3344 26.49L10.3343 26.5088L10.3437 25.0094L7.34378 24.9907Z' fill='#4E63CC'/>
                                                    </svg>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td>
                                                    <span>accendi</span> la luce salotto </br><i class="automation_name">nome automazione 1</i>
                                                </td>
                                                <td class="cell_img_conf">
                                                    <img src="img/conflict2.png" style="width: 100%;"></td>
                                                <td>
                                                    <span>spegni</span> la luce salotto </br><i class="automation_name">nome automazione 2</i>
                                                </td>
                                            </tr>
                                        </table>
                                        <div class="card-title">Come posso risolvere?</div>
                                        <div class="accordion stay-open">
                                            <div class="accordion-item">
                                            <h2 class="accordion-header">
                                                <button class="accordion-button" onclick="toggleStayOpen(this)">
                                                Modifica l'automazione "Accendi aria condizionata quando è caldo"
                                                </button>
                                            </h2>
                                            <div class="accordion-collapse active">
                                                <div class="accordion-body">
                                                    <div class="form-check">
                                                        <input class="form-check-input" type="radio" name="radioDefault" id="radioDefault1">
                                                        <label class="form-check-label" for="radioDefault1">
                                                        Default radio
                                                        </label>
                                                    </div>
                                                    <div class="form-check">
                                                        <input class="form-check-input" type="radio" name="radioDefault" id="radioDefault2" >
                                                        <label class="form-check-label" for="radioDefault2">
                                                        Default radio
                                                        </label>
                                                    </div>
                                                    <div class="form-check">
                                                        <input class="form-check-input" type="radio" name="radioDefault" id="radioDefault2" >
                                                        <label class="form-check-label" for="radioDefault2">
                                                        Default radio
                                                        </label>
                                                    </div>
                                                    
                                                </div>
                                            </div>
                                            </div>
                                        
                                            <div class="accordion-item">
                                            <h2 class="accordion-header">
                                                <button class="accordion-button" onclick="toggleStayOpen(this)">
                                                Modifica l'automazione "Spegni dispositivi rumore alto"
                                                </button>
                                            </h2>
                                            <div class="accordion-collapse">
                                                <div class="accordion-body">
                                                    <div class="form-check">
                                                        <input class="form-check-input" type="radio" name="radioDefault" id="radioDefault1">
                                                        <label class="form-check-label" for="radioDefault1">
                                                        Default radio
                                                        </label>
                                                    </div>
                                                    <div class="form-check">
                                                        <input class="form-check-input" type="radio" name="radioDefault" id="radioDefault2" >
                                                        <label class="form-check-label" for="radioDefault2">
                                                        Default radio
                                                        </label>
                                                    </div>
                                                    <div class="form-check">
                                                        <input class="form-check-input" type="radio" name="radioDefault" id="radioDefault2" >
                                                        <label class="form-check-label" for="radioDefault2">
                                                        Default radio
                                                        </label>
                                                    </div>
                                                    
                                                </div>
                                            </div>
                                            </div>
                                        
                                        </div>
                                        <div class="form-check">
                                            <input class="form-check-input" type="radio" name="radioDefault" id="radioDefault2" >
                                            <label class="form-check-label" for="radioDefault2">
                                            Ignora il problema
                                            </label>
                                        </div>

                                    </div>
                                </div> 
                                
                                <div class="card border-dark carousel__item not_active">
                                    <div class="card-header">Conflitto 5</div>
                                    <div class="card-body">
                                        <span class="card-text">
                                            Le automazioni "automazione 1" e "automazione 2" sono in conflitto quando sono le 09:00 e se piove e quando entro in cucina e se è mattina  perché le azioni che eseguono sono incompatibili tra loro.
                                        </span>
                                        <div class="container_arrow">
                                            <p>Alle 09:00</p>
                                            <p>
                                                <svg class="svg_chain" width='18' height='40' viewBox='0 0 18 40' fill='none' xmlns='http://www.w3.org/2000/svg'>
                                                    <path d='M8.75 39.9991L17.5038 25.0535L0.183666 24.9453L8.75 39.9991ZM7.50003 -0.00937502L7.34378 24.9907L10.3437 25.0094L10.5 0.00937502L7.50003 -0.00937502ZM7.34378 24.9907L7.3344 26.49L10.3343 26.5088L10.3437 25.0094L7.34378 24.9907Z' fill='#4E63CC'/>
                                                </svg>
                                            </p>
                                            <p>se piove</p>
                                            <p>
                                                <svg class="svg_conflict" width="717" height="160" viewBox="0 0 717 160" fill="none" xmlns="http://www.w3.org/2000/svg">
                                                    <path d="M21 160L41.2073 125H0.79274L21 160ZM21 75H17.5L17.5 117.5H21H24.5L24.5 75H21ZM21 117.5H17.5V128.5H21H24.5V117.5H21Z" fill="#4E63CC"/>
                                                    <path d="M696 160L716.207 125H675.793L696 160ZM696 75H692.5V117.5H696H699.5V75H696ZM696 117.5H692.5V128.5H696H699.5V117.5H696Z" fill="#4E63CC"/>
                                                    <line x1="17.5" y1="71.579" x2="699.5" y2="71.579" stroke="#4E63CC" stroke-width="7"/>
                                                    <line x1="358.5" y1="70" x2="358.5" y2="-3.45707e-06" stroke="#4E63CC" stroke-width="7"/>
                                                </svg>
                                            </p>
                                        </div>
                                        <table class="conflict_rappresentation_container no_mt">
                                            <tr>
                                                <td>
                                                    <span>accendi</span> la luce salotto </br><i class="automation_name">nome automazione 1</i>
                                                </td>
                                                <td class="cell_img_conf">
                                                    <img src="img/conflict2.png">
                                                </td>
                                                <td>
                                                    <span>spegni</span> la luce salotto </br><i class="automation_name">nome automazione 2</i>
                                                </td>
                                            </tr>
                                        </table>
                                        
                                        
                                        <div class="card-title">Come posso risolvere?</div>
                                        <div class="accordion stay-open">
                                            <div class="accordion-item">
                                            <h2 class="accordion-header">
                                                <button class="accordion-button" onclick="toggleStayOpen(this)">
                                                Modifica l'automazione "Accendi aria condizionata quando è caldo"
                                                </button>
                                            </h2>
                                            <div class="accordion-collapse active">
                                                <div class="accordion-body">
                                                    <div class="form-check">
                                                        <input class="form-check-input" type="radio" name="radioDefault" id="radioDefault1">
                                                        <label class="form-check-label" for="radioDefault1">
                                                        Default radio
                                                        </label>
                                                    </div>
                                                    <div class="form-check">
                                                        <input class="form-check-input" type="radio" name="radioDefault" id="radioDefault2" >
                                                        <label class="form-check-label" for="radioDefault2">
                                                        Default radio
                                                        </label>
                                                    </div>
                                                    <div class="form-check">
                                                        <input class="form-check-input" type="radio" name="radioDefault" id="radioDefault2" >
                                                        <label class="form-check-label" for="radioDefault2">
                                                        Default radio
                                                        </label>
                                                    </div>
                                                    
                                                </div>
                                            </div>
                                            </div>
                                        
                                            <div class="accordion-item">
                                            <h2 class="accordion-header">
                                                <button class="accordion-button" onclick="toggleStayOpen(this)">
                                                Modifica l'automazione "Spegni dispositivi rumore alto"
                                                </button>
                                            </h2>
                                            <div class="accordion-collapse">
                                                <div class="accordion-body">
                                                    <div class="form-check">
                                                        <input class="form-check-input" type="radio" name="radioDefault" id="radioDefault1">
                                                        <label class="form-check-label" for="radioDefault1">
                                                        Default radio
                                                        </label>
                                                    </div>
                                                    <div class="form-check">
                                                        <input class="form-check-input" type="radio" name="radioDefault" id="radioDefault2" >
                                                        <label class="form-check-label" for="radioDefault2">
                                                        Default radio
                                                        </label>
                                                    </div>
                                                    <div class="form-check">
                                                        <input class="form-check-input" type="radio" name="radioDefault" id="radioDefault2" >
                                                        <label class="form-check-label" for="radioDefault2">
                                                        Default radio
                                                        </label>
                                                    </div>
                                                    
                                                </div>
                                            </div>
                                            </div>
                                        
                                        </div>
                                        <div class="form-check">
                                            <input class="form-check-input" type="radio" name="radioDefault" id="radioDefault2" >
                                            <label class="form-check-label" for="radioDefault2">
                                            Ignora il problema
                                            </label>
                                        </div>

                                    </div>
                                </div>
                                -->
                            </div>
                               
                        </div>
                        
       
                </div>
            </div>
            <div id="chat">
                <div class="chat-header">
                    <div id="logo">
                         <svg style="width:60px" xmlns="http://www.w3.org/2000/svg" viewBox="-1.5 -13.125 11 12.63">
                            <defs>
                                <linearGradient id="myGradient" x1="0%" y1="0%" x2="100%" y2="0%" gradientUnits="userSpaceOnUse">
                                    <stop offset="0%" stop-color="#0066FF">
                                        <animate attributeName="stop-color" 
                                                values="#0066FF;#00FF88;#8B5CF6;#0066FF"
                                                dur="8s" 
                                                repeatCount="indefinite"/>
                                        <animate attributeName="stop-opacity" 
                                                values="1;0.85;1"
                                                dur="4s" 
                                                repeatCount="indefinite"/>
                                    </stop>
                                    <stop offset="40%" stop-color="#00FF88">
                                        <animate attributeName="stop-color" 
                                                values="#00FF88;#8B5CF6;#0066FF;#00FF88"
                                                dur="8s" 
                                                repeatCount="indefinite"/>
                                        <animate attributeName="stop-opacity" 
                                                values="0.85;1;0.85"
                                                dur="5s" 
                                                repeatCount="indefinite"/>
                                    </stop>
                                    <stop offset="70%" stop-color="#8B5CF6">
                                        <animate attributeName="stop-color" 
                                                values="#8B5CF6;#0066FF;#00FF88;#8B5CF6"
                                                dur="8s" 
                                                repeatCount="indefinite"/>
                                        <animate attributeName="stop-opacity" 
                                                values="1;0.85;1"
                                                dur="5s" 
                                                repeatCount="indefinite"/>
                                    </stop>
                                </linearGradient>
                                <clipPath id="housePath">
                                    <path d="M 0 0 L 8 0 C 9 0 9 -1 9 -1 C 9 -1 9 -1 9 -1 V -8 Q 9 -9 8 -10 C 3 -14 5 -14 0 -10 Q -1 -9 -1 -8 V -1 Q -1 0 0 0"/>
                                </clipPath>
                            </defs>
                            <image 
                                href="img/favicon.png" 
                                x="-0.5" 
                                y="-11.2" 
                                width="9" 
                                clip-path="url(#housePath)"
                                preserveAspectRatio="xMidYMid slice"/>

                            <path d="M 0 -1 L 7.998 -1.022 Q 9 -1 9 -2 V -8 Q 9 -9 8 -10 C 3.022 -13.5 5 -13.5 0 -10 Q -1 -9 -1 -8 V -2.06 Q -1 -1 0 -1"
                                stroke="url(#myGradient)" 
                                stroke-width="0.5" 
                                fill="none"
                                stroke-linecap="round"
                                stroke-linejoin="round"/>
          
                        </svg>
                        <div class="agent-info">
                            <div class="agent-name">CASPER</div>
                            <div class="status-indicator-chat"></div>
                            <div class="agent-status">Online</div>
                        </div>
                    </div>
                    <div class="chat-controls">
                        <div class="toggle-container">
                            <div class="toggle-switch-theme dark" id="toggleSwitch" style="transform: translateY(0px) scale(1);">
                                <div class="toggle-bg-icons sun-bg">☀️</div>
                                <div class="toggle-bg-icons moon-bg">🌙</div>
                                <div class="toggle-ball dark" id="toggleBall">
                                    <span class="sun-icon">☀️</span>
                                    <span class="moon-icon">🌙</span>
                                </div>
                            </div>
                        </div>
                        <div class="control-btn logout-btn" id="logout">🚪 Logout</div>
                    </div>    
                </div>
                <div id="msgContainer">
                    <!-- <div class="infoMsgContainer">
                        <div class="infoLabel">Info di Sistema</div>
                        <div class = "infoMsg">Il chatbot ci mette qualche secondo a rispondere, aspettare il caricamento della risposta. </div>
                    </div> -->
                    <!-- <div class="botMsgContainer">
                        <div class="botLabel">Rulebot</div>
                        <div class = "botMsg">Ciao, io sono RuleBot! Posso eseguire dei compiti per te in maniera automatica.</div>
                    </div>
                    <div class="userMsgContainer">
                        <div class="userLabel">Utente</div>
                        <div class = "userMsg">Ciao</div>
                    </div>
                    
                    <div class="chat-state"><i class='bx bxs-analyse bx-spin'></i>Genero la spiegazione del conflitto</div>
                    <div class="botMsgContainer isTyping">
                        <div class="botLabel">Rulebot</div>
                        <div class="botMsg"><img src="icons/typing.gif" class="typeGif"></div>
                    </div> -->
                </div>
                <div id="inputContainer">
                    <textarea id="inputBox" name="inputBox" placeholder="Inserisci qua il tuo input..."></textarea>
                    <button id="send" class="inputButton send"><img class="buttonIcon" src="icons/send.png" alt=""></button>
                    <!-- <button id="speech">🎤</button> -->
                </div>
            </div>
        </div>
        <div id="right-container">
            <div id="token-info">
                <!--<span>Total Token Usage: <span id="tokens">0</span></span>
                <span>Total Conversation Cost: <span id="cost">0</span></span>-->
            </div>
        </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/js-cookie@3.0.1/dist/js.cookie.min.js"></script>
    <script src="scripts/jwt-decode.js"></script>
    <script src="https://requirejs.org/docs/release/2.3.6/minified/require.js"></script>
    <script src="scripts/icons-map.js"></script>
    <script src="scripts/rulebot.js"></script>
</body>
</html>